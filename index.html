<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç¯ ãƒäº•ä¹—å‹™åŒº - Shinonoi Depot</title>
<style>
@keyframes sakura-fall { 0% { transform: translateY(-10%) rotate(0deg); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
body { background-color: #fcfaf2; color: #333; font-family: "serif"; text-align: center; margin: 0; padding: 20px; overflow-x: hidden; }
.sakura { position: fixed; top: -10%; color: #ffb7c5; font-size: 20px; z-index: 999; pointer-events: none; animation: sakura-fall linear infinite; }
.container { border: 3px solid #d32f2f; padding: 30px 20px; max-width: 500px; margin: 10px auto; background: rgba(255,255,255,0.95); box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-radius: 20px; position: relative; }

/* è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ */
.lang-switcher { margin-bottom: 20px; display: flex; justify-content: center; gap: 10px; }
.lang-switcher button { background: #eee; border: 1px solid #ccc; padding: 6px 15px; cursor: pointer; font-size: 12px; border-radius: 20px; font-weight: bold; }
.lang-switcher button.active { background: #004d40; color: white; border-color: #004d40; }

h1 { color: #d32f2f; font-size: 1.8em; margin: 10px 0; letter-spacing: 0.1em; cursor: pointer; user-select: none; }
.greeting { border-top: 1px solid #d32f2f; border-bottom: 1px solid #d32f2f; padding: 15px; margin: 15px 0; line-height: 1.8; text-align: left; font-size: 0.9em; min-height: 80px; color: #004d40; }
.status-box { background: #fffaf0; padding: 20px; border: 2px dashed #d32f2f; margin: 15px 0; border-radius: 12px; }
.timer { font-size: 2.5em; font-weight: bold; color: #d32f2f; margin: 10px 0; }

/* ãŠã¿ãã˜ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ */
.omikuji-group { display: flex; justify-content: center; gap: 20px; margin: 25px 0; }
.kuji-btn { width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; text-decoration: none; color: #fff; font-weight: bold; font-size: 1em; box-shadow: 0 6px 12px rgba(0,0,0,0.15); transition: 0.3s; padding: 10px; line-height: 1.4; border: 4px solid #fff; }
.rail-kuji { background: #004d40; border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
.norm-kuji { background: #d32f2f; border-radius: 50% 50% 50% 50% / 65% 65% 35% 35%; }
.kuji-btn:hover { transform: scale(1.05); }

/* ä¸‹éƒ¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */
.menu-group { display: flex; flex-direction: column; gap: 10px; margin-top: 25px; }
.menu-btn { background: #004d40; color: #fff; padding: 12px; font-size: 0.95em; text-decoration: none; font-weight: bold; border-radius: 50px; box-shadow: 0 4px 0 #002d20; transition: 0.2s; }
.menu-btn:hover { transform: translateY(2px); box-shadow: 0 2px 0 #002d20; }
.msg-btn { background: #8b1d1d; box-shadow: 0 4px 0 #5a1212; }

.hidden { display: none; }
.dev-mode { background: #fff5cc !important; border: 3px solid #ffcc00 !important; }
</style>
</head>
<body>
<div class="container" id="main-content">
    <div class="lang-switcher">
        <button onclick="setLang('ja')" id="btn-ja" class="active">æ—¥æœ¬èª</button>
        <button onclick="setLang('en')" id="btn-en">English</button>
    </div>
    
    <h1 id="ui-title" onclick="devAccess()">æ­³æœ«æº–å‚™</h1>
    <p style="font-weight:bold; color:#666; margin:5px 0;">ç¯ ãƒäº•ä¹—å‹™åŒº ç‰¹è¨­ä¼šå ´</p>
    
    <div id="greeting" class="greeting"></div>

    <div id="timer-section" class="status-box">
        <p id="ui-label" style="margin:0; font-weight:bold;">2026å¹´ å§‹ç™ºåˆ—è»Šã¾ã§</p>
        <div id="countdown" class="timer">--d --:--:--</div>
    </div>

    <div id="omikuji-area" class="omikuji-group hidden">
        <a href="rail_result.html" class="kuji-btn rail-kuji" id="ui-rail">é‰„é“<br>ã¿ãã˜</a>
        <a href="norm_result.html" class="kuji-btn norm-kuji" id="ui-norm">ä¸€èˆ¬<br>ã¿ãã˜</a>
    </div>

    <div class="menu-group">
        <a href="message.html" id="ui-msg" class="menu-btn msg-btn">é‹å–¶ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è©³ç´°ã¯...</a>
        <a href="news.html" id="ui-news" class="menu-btn">ãŠçŸ¥ã‚‰ã›</a>
        <a href="about.html" id="ui-about" class="menu-btn">ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</a>
    </div>
</div>

<script>
const translations = {
    ja: {
        titlePre: "æ­³æœ«æº–å‚™", titleNew: "è¬¹è³€æ–°å¹´",
        prep: "ç¯ ãƒäº•ä¹—å‹™åŒº ç‰¹è¨­ä¼šå ´ã¸ã‚ˆã†ã“ãã€‚ãŸã ã„ã¾æ–°å¹´ã®é‹è¡Œã«å‘ã‘ã¦æº–å‚™ä¸­ã§ã™ã€‚",
        newYear: "æ–°å¹´ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚æœ¬å¹´ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ç”³ã—ä¸Šã’ã¾ã™ã€‚",
        rail: "é‰„é“<br>ã¿ãã˜", norm: "ä¸€èˆ¬<br>ã¿ãã˜", label: "2026å¹´ å§‹ç™ºåˆ—è»Šã¾ã§",
        msg: "é‹å–¶ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è©³ç´°ã¯...", news: "ãŠçŸ¥ã‚‰ã›", about: "ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦"
    },
    en: {
        titlePre: "Preparation", titleNew: "Happy New Year",
        prep: "Welcome to Shinonoi Depot. Preparing for 2026.",
        newYear: "Happy New Year 2026!",
        rail: "Railway<br>Fortune", norm: "General<br>Fortune", label: "Countdown to 2026",
        msg: "Full message detail...", news: "News", about: "About Us"
    }
};

let lang = 'ja';
let clickCount = 0;
const DEV_PASS = "2026shinonoi"; 

function devAccess() {
    clickCount++;
    if (clickCount >= 3) {
        const pass = prompt("é€²å…¥æ‰¿èªã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼š");
        if (pass === DEV_PASS) {
            alert("æ‰¿èªã•ã‚Œã¾ã—ãŸã€‚éš ã—ç·šã¸ã®é€²å…¥ã‚’è¨±å¯ã—ã¾ã™ã€‚");
            document.getElementById("omikuji-area").classList.remove("hidden");
            document.getElementById("main-content").classList.add("dev-mode");
        }
        clickCount = 0;
    }
}

function setLang(l) {
    lang = l;
    document.querySelectorAll('.lang-switcher button').forEach(b => b.classList.remove('active'));
    document.getElementById('btn-' + l).classList.add('active');
    update();
}

function createSakura() {
    const s = document.createElement('div');
    s.innerHTML = 'ğŸŒ¸'; s.className = 'sakura';
    s.style.left = Math.random() * 100 + 'vw';
    s.style.animationDuration = Math.random() * 3 + 4 + 's';
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 7000);
}
setInterval(createSakura, 500);

const start = new Date("2026/01/01 00:00:00");

function update() {
    const now = new Date();
    const t = translations[lang];
    
    document.getElementById("ui-rail").innerHTML = t.rail;
    document.getElementById("ui-norm").innerHTML = t.norm;
    document.getElementById("ui-label").innerText = t.label;
    document.getElementById("ui-msg").innerText = t.msg;
    document.getElementById("ui-news").innerText = t.news;
    document.getElementById("ui-about").innerText = t.about;

    if (now >= start) {
        document.getElementById("ui-title").innerText = t.titleNew;
        document.getElementById("greeting").innerHTML = t.newYear;
        document.getElementById("timer-section").classList.add("hidden");
        document.getElementById("omikuji-area").classList.remove("hidden");
    } else {
        document.getElementById("ui-title").innerText = t.titlePre;
        document.getElementById("greeting").innerHTML = t.prep;
        const diff = start - now;
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = String(Math.floor((diff / (1000 * 60 * 60)) % 24)).padStart(2, '0');
        const m = String(Math.floor((diff / (1000 * 60)) % 60)).padStart(2, '0');
        const s = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');
        document.getElementById("countdown").innerText = `${d}d ${h}:${m}:${s}`;
    }
}
setInterval(update, 1000);
update();
</script>
</body>
</html>
