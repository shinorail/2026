<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç¯ ãƒäº•ä¹—å‹™åŒº ç‰¹è¨­ä¼šå ´</title>
<style>
@keyframes sakura-fall { 0% { transform: translateY(-10%) rotate(0deg); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
body { background-color: #fcfaf2; color: #333; font-family: "Hiragino Mincho ProN", "serif"; text-align: center; margin: 0; padding: 20px; overflow-x: hidden; }
.sakura { position: fixed; top: -10%; color: #ffb7c5; font-size: 20px; z-index: 999; pointer-events: none; animation: sakura-fall linear infinite; }
.container { border: 3px solid #d32f2f; padding: 40px 20px; max-width: 600px; margin: 40px auto; background: rgba(255,255,255,0.95); position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
h1 { color: #d32f2f; font-size: 2.2em; letter-spacing: 0.3em; margin: 0; }
.greeting-section { border-top: 1px solid #d32f2f; border-bottom: 1px solid #d32f2f; padding: 25px; margin: 30px 0; line-height: 2.2; text-align: left; color: #004d40; font-size: 0.95em; }
.status-box { background: #fffaf0; padding: 30px; border: 1px dashed #d32f2f; margin: 20px 0; }
.timer { font-size: 3.2em; font-weight: bold; color: #d32f2f; letter-spacing: 2px; }
.btn-group button { background-color: #d32f2f; color: #fff; border: none; padding: 18px 50px; font-size: 1.3em; cursor: pointer; border-radius: 4px; transition: 0.3s; box-shadow: 0 4px 0 #8b1d1d; font-family: "serif"; }
.btn-group button:hover { background-color: #004d40; transform: translateY(-2px); box-shadow: 0 2px 0 #002d20; }
.nav-links { margin-top: 30px; border-top: 1px solid #ddd; padding-top: 20px; font-size: 0.9em; }
.nav-links a { color: #004d40; text-decoration: none; font-weight: bold; border-bottom: 1px solid #004d40; }
.hidden { display: none; }
</style>
</head>
<body>
<div class="container" id="main-content">
    <h1 id="main-title">æ­³æœ«æº–å‚™</h1>
    <p>ç¯ ãƒäº•ä¹—å‹™åŒº ç‰¹è¨­ä¼šå ´</p>

    <div id="greeting" class="greeting-section">
        </div>

    <div id="timer-section" class="status-box">
        <p id="timer-label">2026å¹´ å§‹ç™ºåˆ—è»Šã¾ã§</p>
        <div id="countdown" class="timer">--æ—¥ --:--:--</div>
    </div>

    <div id="omikuji-section" class="hidden">
        <p>ã€ä»¤å’Œå…«å¹´ é‹å‹¢ç‚¹æ¤œã€‘</p>
        <div class="btn-group">
            <button onclick="location.href='result.html?type=train'">é‰„é“ã¿ãã˜ã‚’å¼•ã</button>
        </div>
    </div>

    <div class="nav-links">
        <a href="my-timer.html">â‰« è‡ªåˆ†å°‚ç”¨ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ã‚’è¨­å®šã™ã‚‹</a>
    </div>
</div>

<script>
function createSakura() {
    const sakura = document.createElement('div');
    sakura.innerHTML = 'ğŸŒ¸'; sakura.className = 'sakura';
    sakura.style.left = Math.random() * 100 + 'vw';
    sakura.style.animationDuration = Math.random() * 3 + 4 + 's';
    document.body.appendChild(sakura);
    setTimeout(() => { sakura.remove(); }, 7000);
}
setInterval(createSakura, 500);

const startDate = new Date("2026/01/01 00:00:00");
const endDate = new Date("2026/01/16 00:00:00");

function update() {
    const now = new Date();
    const greetingDiv = document.getElementById("greeting");
    const titleH1 = document.getElementById("main-title");

    // 1. æœŸé–“çµ‚äº†å¾Œ
    if (now >= endDate) {
        document.getElementById("main-content").innerHTML = "<h1>é‹è¡Œçµ‚äº†</h1><div class='greeting-section'>æœ¬å¹´ã®ç‰¹è¨­ä¼šå ´ã¯é–‰å ´ã„ãŸã—ã¾ã—ãŸã€‚ã¾ãŸæ¥å¹´ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ã€‚</div><p>ç¯ ãƒäº•ä¹—å‹™åŒº</p>";
        return;
    }

    // 2. ãŠæ­£æœˆæœŸé–“ä¸­
    if (now >= startDate) {
        titleH1.innerText = "è¬¹è³€æ–°å¹´";
        greetingDiv.innerHTML = `æ–°å¹´ã‚ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚<br>é‰„é“ã‚’æ„›ã™ã‚‹çš†æ§˜ã€ãã—ã¦æ—¥ã€…é‰„è·¯ã‚’æ”¯ãˆã‚‹çš†æ§˜ã¸ã€‚<br>æœ¬å¹´ã‚‚çš†æ§˜ã®äººç”Ÿã¨ã„ã†åã®åˆ—è»ŠãŒã€ç´ æ™´ã‚‰ã—ã„ç›®çš„åœ°ã¸å‘ã‹ã£ã¦å¿«èµ°ã§ãã‚‹ä¸€å¹´ã«ãªã‚Šã¾ã™ã‚ˆã†ã€å¿ƒã‚ˆã‚ŠãŠç¥ˆã‚Šç”³ã—ä¸Šã’ã¾ã™ã€‚`;
        document.getElementById("timer-section").classList.add("hidden");
        document.getElementById("omikuji-section").classList.remove("hidden");
        return;
    }

    // 3. 12æœˆï¼ˆæº–å‚™æœŸé–“ä¸­ï¼‰
    titleH1.innerText = "æ­³æœ«æº–å‚™";
    greetingDiv.innerHTML = `ç¯ ãƒäº•ä¹—å‹™åŒº ç‰¹è¨­ä¼šå ´ã¸ã‚ˆã†ã“ãã€‚<br>ãŸã ã„ã¾2026å¹´ã®é‹è¡Œé–‹å§‹ã«å‘ã‘ã¦ã€ä¼šå ´ã®æº–å‚™ã‚’è¡Œã£ã¦ãŠã‚Šã¾ã™ã€‚<br>æ–°ã—ã„å¹´ã€æ–°ã—ã„ãƒ€ã‚¤ãƒ¤ã§ã®å‡ºç™ºã¾ã§ã€ä»Šã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚<br>æœ¬å¹´ã‚‚æ®‹ã‚Šã‚ãšã‹ã€‚çš†æ§˜ã©ã†ãå®‰å…¨ã«ã€è‰¯ã„ãŠå¹´ã‚’ãŠè¿ãˆãã ã•ã„ã€‚`;

    const diff = startDate - now;
    const d = Math.floor(diff / (1000 * 60 * 60 * 24));
    const h = String(Math.floor((diff / (1000 * 60 * 60)) % 24)).padStart(2, '0');
    const m = String(Math.floor((diff / (1000 * 60)) % 60)).padStart(2, '0');
    const s = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');
    document.getElementById("countdown").innerText = `${d}æ—¥ ${h}:${m}:${s}`;
}

setInterval(update, 1000);
update();
</script>
</body>
</html>
